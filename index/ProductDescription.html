<!DOCTYPE html>
<html lang="Zh-cn">
<head>
<meta charset="utf-8">
<meta name="company" content="广州原真原电子商务有限公司">
<meta name="keywords" content="土特产，饮食，健康，文化，品质，保真">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection"  content="telephone=no">
<meta name="format-detection" content="email=no"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>源真原味商品详情</title>
<link rel="stylesheet" type="text/css" href="css/swiper.css">
<link rel="stylesheet" type="text/css" href="css/ProductDescription.css">
<link rel="stylesheet" type="text/css" href="css/normal.css">
	<style type="text/css" media="screen">
		  .swiper-container{
			  padding-top: 0.4rem;
    		width:100%;
    		-webkit-perspective:1200px;
    		-moz-perspective:1200px;
    		-ms-perspective:1200px;
    		perspective:1200px
   		}
    	.swiper-slide{
    		width:80%;
    		-webkit-transform-style:preserve-3d;
    		-moz-transform-style:preserve-3d;
    		-ms-transform-style:preserve-3d;
    		transform-style:preserve-3d
    	}
    	.swiper-slide .photo{
    		width:5.5rem;
            height: 5.5rem;
    		margin:0 auto;
    		display:block
    	}
        .swiper-pagination
        {
            width: 100%;
            height: 0.8rem;
            line-height: 0.8rem;
            z-index: 1;
        }
        #pagination .swiper-pagination-bullet{
            width:0.42rem;
            height:0.42rem;
            float:center;
            margin:0 0 0 0.37rem;
            background:0;
            opacity:1;
            z-index: 1;
        }
        .swiper-pagination-bullet i{
            background:url(images/light.png);
            background-repeat: no-repeat;
            background-size: 100% 100%;
            width:0.42rem;
            height:0.42rem;
            border-radius:0.4rem;
            display:block;
            margin:0 auto;
        }   
        .swiper-pagination-bullet-active i{
            -webkit-transform:scale(1);
            background:url(images/light_click.png) no-repeat center 50%;
            background-size:auto 100%;
        }
	</style>
</head>
<body>
	<div class="main">
		<div class="swiper-container" id="swiper-container">
			<div class="swiper-wrapper">
				<div class="swiper-slide"><img class="photo" src="images/photo.png"></div>
				<div class="swiper-slide"><img class="photo" src="images/photo.png"></div>
				<div class="swiper-slide"><img class="photo" src="images/photo.png"></div>
				<div class="swiper-slide"><img class="photo" src="images/photo.png"></div>
        <div class="swiper-slide"><img class="photo" src="images/photo.png"></div>
			</div>
		</div>
		<div class="swiper-pagination" id="pagination">
		</div>	
		<div class="description-box">
			<div class="description">
				<span>【坏果不甜包赔】马水镇马水桔 橘子甜马水桔子超级水果</span>
			</div>
			<div class="price_now">
				<span>￥99.68</span>
			</div>
			<div class="price_market">
				<del>市场价格 ￥120.5</del>
			</div>
		</div>
		<div class="product_detail" id="product_detail">
			<div class="detail-title">
				<span>商品参数</span>
			</div>
			<div class="detail-box1">
				<div class="product_name">
					<span>商&nbsp品&nbsp名&nbsp称:</span>
				</div>
				<div class="product_size">
					<span>商&nbsp品&nbsp规&nbsp格:</span>
				</div>
			</div>
			<div class="detail-box2">
				<div class="product_original">
					<span>产&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp地:</span>
				</div>
				<div class="product_function">
					<span>功&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp效:</span>
				</div>
			</div>
			<div class="detail-box3">
				<div class="save_date">
					<span>保&nbsp&nbsp&nbsp质&nbsp&nbsp&nbsp期:</span>
				</div>
			</div>
            <div class="detail-pull">
                <span>∧上拉查看图文详情</span>
            </div>
		</div>
        <div class="graphic_word_detail" id="graphic_word_detail">
            <div class="bottom-button" id="button_control">
            	<div class="item1-1">
               		<span>商品详情</span>      
            	</div>
            	<div class="item1-2">
                	<span>品牌故事</span>      
            	</div>
        	</div>
        </div>
        <div class="bottom-button-car" id="bottom-button-car">
            <div class="item2-1" onclick="window.open('../buyCar/buyCar.html','_self')">
                <img src="images/shop_car.png">
            </div>
            <div class="item2-2" onclick="openNewDiv()">
                <span>加入购物车</span>
            </div>
        </div>
	</div>
    <div id="modalDiv">
    </div>
    <div id="modal-box">
        <div class="summary">
            <div class="img">
                <img src="images/pro-img.jpg" height="100%" width="100%">
            </div>
            <div class="modal-main">
                <div class="name">
                    <span>马水桔</span>
                </div>
                <div class="price">
                    <span>
                        ￥998.00
                    </span>
                </div>
            </div>
            <a class="sback" onclick="dismissModal()">
            </a>   
        </div>
        <div class="standard">
            <div class="standard-title">
                <label>规格:</label>
            </div>
            <div class="standard-detail">
                <span>3</span>
                <label>斤/箱</label>
            </div>
        </div>
        <div class="number-select">
            <div class="number-title">
                <label>数量</label>
            </div>
            <div class="number-control">
                <button type="button" class="decrease" onclick="subnum()">-</button>
                <input  class="num" value="0" min="1" max="93" id="num_input">
                <button type="button" class="increase" onclick="addnum()">+</button>
            </div>
        </div>
        <div class="item-commit">
            <button class="ok-button" onclick="commit()">
            	<span>确定</span>
            </button>
        </div>
    </div>
	<script src="js/swiper.js"></script>
	<script type="text/javascript">
        /*swiper的轮播图片的控制*/
		var mySwiper = new Swiper('.swiper-container',{
    	loop: true,
        centeredSlides:!0,
        watchSlidesProgress:!0,
        pagination:".swiper-pagination",
        paginationClickable:!0,
        paginationBulletRender:function(a,b){
            return'<span class="'+b+'"><i>'+""+"</i></span>"
        },
        onProgress:function(a){
            var b,c,d;
            for(b=0;b<a.slides.length;b++)
                c=a.slides[b],
            d=c.progress,
            scale=1-Math.min(Math.abs(.2*d),1),
            es=c.style,
            es.opacity=1-Math.min(Math.abs(d/2),1),
            es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform="translate3d(0px,0,"+-Math.abs(150*d)+"px)"
            },
        onSetTransition:function(a,b){
            for(var c=0;c<a.slides.length;c++)
                es=a.slides[c].style,
                es.webkitTransitionDuration=es.MsTransitionDuration=es.msTransitionDuration=es.MozTransitionDuration=es.OTransitionDuration=es.transitionDuration=b+"ms"
            }   
 		});


        /*商品详情和品牌故事按钮栏的悬停*/
        var Getid = function(id){
            return document.getElementById(id);
        }

        var addEvent = function(obj,event,fun){
            if(obj.addEventListener){
                obj.addEventListener(event,fun,false);
            }else if(obj.attachEvent()){
                obj.attachEvent("on" + event,fun);
            }
        }
        var buttonLine = Getid("button_control");
        var addHeight = document.body.scrollHeight - Getid("graphic_word_detail").offsetHeight - Getid("bottom-button-car").offsetHeight;
        addEvent(window,"scroll",function(){
            var scrollHeight = document.body.scrollTop;
            if(scrollHeight > addHeight){
                buttonLine.style.position = "fixed";
                buttonLine.style.top = "0px";
            }
            else if(scrollHeight < addHeight){
                buttonLine.style.position = "relative";
            }   
        });



        /*模态框的实现*/
        function openNewDiv() {
            var windowHeight=document.body.scrollHeight;
            var modal = document.getElementById("modalDiv");
            var modalbox = document.getElementById("modal-box");
            modalbox.style.transform = "translate3d(0px,0px,0px)";
            modal.style.display = "block";
            modalbox.style.display = "block";
            modal.style.height = windowHeight + "px";
            //设置其透明度为40%
            modal.style.filter="alpha(opacity=40)";
            modal.style.opacity="0.40";
            modal.style.zIndex="2";
        }
        //关闭模态框就两步，使模态框隐藏同时移除bodyMask
        function dismissModal() {
            document.getElementById("modal-box").style.display="none";
            document.getElementById("modalDiv").style.display="none";
        }
        var num_input = document.getElementById("num_input");
        function addnum() {
        	var now_value = parseInt(num_input.value, 10);
        	num_input.value = now_value + 1; 
        }

        function subnum() {
        	var now_value =  parseInt(num_input.value, 10);
        	num_input.value = now_value - 1; 
        }

        function commit() {
        	var json = data.goods;
        	var id = "product";
        	json[id].count = parseInt(num_input.value, 10);
        	console.log(json[id].count);
        	/*
        	跳转到另一个界面并传递json数据
        	*/
        }
        var data = {
			goods: {
				"product": {cusOpenid:"123456",pSn:"000000",count:"1"}
			}
		};
	</script>
</body>
</html>